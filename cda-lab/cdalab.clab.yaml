name: cdalab

mgmt:
  network: cda
  ipv4-subnet: 172.10.101.0/24

topology:
  nodes:
    csw-1:
      kind: cisco_iol
      image: vrnetlab/cisco_iol:L2-17.12.01
      type: l2
      mgmt-ipv4: 172.10.101.11
    csw-2:
      kind: cisco_iol
      image: vrnetlab/cisco_iol:L2-17.12.01
      type: l2
      mgmt-ipv4: 172.10.101.12
    dsw-1:
      kind: cisco_iol
      image: vrnetlab/cisco_iol:L2-17.12.01
      type: l2
      mgmt-ipv4: 172.10.101.13
    dsw-2:
      kind: cisco_iol
      image: vrnetlab/cisco_iol:L2-17.12.01
      type: l2
      mgmt-ipv4: 172.10.101.14
    dsw-3:
      kind: cisco_iol
      image: vrnetlab/cisco_iol:L2-17.12.01
      type: l2
      mgmt-ipv4: 172.10.101.15
    dsw-4:
      kind: cisco_iol
      image: vrnetlab/cisco_iol:L2-17.12.01
      type: l2
      mgmt-ipv4: 172.10.101.16
    asw-100:
      kind: cisco_iol
      image: vrnetlab/cisco_iol:L2-17.12.01
      type: l2
      mgmt-ipv4: 172.10.101.17
    asw-101:
      kind: cisco_iol
      image: vrnetlab/cisco_iol:L2-17.12.01
      type: l2
      mgmt-ipv4: 172.10.101.18
    asw-200:
      kind: cisco_iol
      image: vrnetlab/cisco_iol:L2-17.12.01
      type: l2
      mgmt-ipv4: 172.10.101.19
    asw-201:
      kind: cisco_iol
      image: vrnetlab/cisco_iol:L2-17.12.01
      type: l2
      mgmt-ipv4: 172.10.101.20
    pc-1:
      kind: linux
      mgmt-ipv4: 172.10.101.51
      image: ghcr.io/srl-labs/network-multitool
      exec:
        - ip address add 10.192.100.100/24 dev eth1
        - ip route add 10.192.0.0/16 via 10.192.100.1 dev eth1
    pc-2:
      kind: linux
      mgmt-ipv4: 172.10.101.52
      image: ghcr.io/srl-labs/network-multitool
      exec:
        - ip address add 10.192.101.100/24 dev eth1
        - ip route add 10.192.0.0/16 via 10.192.101.1 dev eth1
    pc-3:
      kind: linux
      mgmt-ipv4: 172.10.101.53
      image: ghcr.io/srl-labs/network-multitool
      exec:
        - ip address add 10.192.200.100/24 dev eth1
        - ip route add 10.192.0.0/16 via 10.192.200.1 dev eth1
    pc-4:
      kind: linux
      mgmt-ipv4: 172.10.101.54
      image: ghcr.io/srl-labs/network-multitool
      exec:
        - ip address add 10.192.201.100/24 dev eth1
        - ip route add 10.192.0.0/16 via 10.192.201.1 dev eth1

  links:
    - endpoints: ["csw-1:e0/1", "csw-2:e0/1"]
    - endpoints: ["csw-1:e1/0", "dsw-1:e1/0"]
    - endpoints: ["csw-1:e1/1", "dsw-2:e1/0"]
    - endpoints: ["csw-1:e1/2", "dsw-3:e1/0"]
    - endpoints: ["csw-1:e1/3", "dsw-4:e1/0"]
    - endpoints: ["csw-2:e1/0", "dsw-1:e1/1"]
    - endpoints: ["csw-2:e1/1", "dsw-2:e1/1"]
    - endpoints: ["csw-2:e1/2", "dsw-3:e1/1"]
    - endpoints: ["csw-2:e1/3", "dsw-4:e1/1"]
    - endpoints: ["dsw-1:e0/1", "dsw-2:e0/1"]
    - endpoints: ["dsw-1:e0/2", "dsw-2:e0/2"]
    - endpoints: ["dsw-3:e0/1", "dsw-4:e0/1"]
    - endpoints: ["dsw-3:e0/2", "dsw-4:e0/2"]
    - endpoints: ["dsw-1:e2/0", "asw-100:e0/1"]
    - endpoints: ["dsw-1:e2/1", "asw-101:e0/1"]
    - endpoints: ["dsw-2:e2/0", "asw-100:e0/2"]
    - endpoints: ["dsw-2:e2/1", "asw-101:e0/2"]
    - endpoints: ["dsw-3:e2/0", "asw-200:e0/1"]
    - endpoints: ["dsw-3:e2/1", "asw-201:e0/1"]
    - endpoints: ["dsw-4:e2/0", "asw-200:e0/2"]
    - endpoints: ["dsw-4:e2/1", "asw-201:e0/2"]
    - endpoints: ["asw-100:e0/3", "pc-1:eth1"]
    - endpoints: ["asw-101:e0/3", "pc-2:eth1"]
    - endpoints: ["asw-200:e0/3", "pc-3:eth1"]
    - endpoints: ["asw-201:e0/3", "pc-4:eth1"]

